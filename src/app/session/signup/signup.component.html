<div class="session mat-blue">
    <div class="session-content">
        <div class="session-wrapper">
            <div class="text-xs-center pb-1 logo"></div>
            <mat-card>
                <mat-card-content>

                    <div class="text-xs-center pb-1">
<!--                        <img src="assets/images/logo-dark.svg" alt=""/>-->
                        <p class="mat-text-muted">Đăng ký mới tài khoản.</p>
                    </div>
                    <form [formGroup]="form" (ngSubmit)="sendLoginCode()" *ngIf="!stateFormVerification">
                        <div fxLayout="column" fxLayoutAlign="space-around">
                            <div class="pb-1">
                                <mat-form-field style="width: 25%">
                                    <mat-select [formControl]="codeCtrl" placeholder="Country" #singleSelect>
                                        <mat-option *ngFor="let code of codes" [value]="code.dial_code">
                                            {{ code.dial_code }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <mat-form-field style="width: 74%">
                                    <input matInput placeholder="Số thuê bao" type="text"
                                           [formControl]="form.controls['phoneNumber']">
                                </mat-form-field>
                                <small *ngIf="form.controls['phoneNumber'].hasError('required') && form.controls['phoneNumber'].touched"
                                       class="mat-text-warn">Bạn phải nhập vào số thuê bao.
                                </small>
                            </div>
                            <div class="pb-1">
                                <mat-form-field style="width: 100%">
                                    <input matInput type="password" placeholder="Mật khẩu"
                                           [formControl]="form.controls['password']" name="password">
                                </mat-form-field>
                                <small *ngIf="form.controls['password'].hasError('required') && form.controls['password'].touched"
                                       class="mat-text-warn">Bạn phải nhập vào mật khẩu.
                                </small>
                            </div>
                            <div class="pb-1">
                                <mat-form-field style="width: 100%">
                                    <input matInput placeholder="Xác nhận mật khẩu" name="confirmPassword"
                                           [formControl]="form.controls['confirmPassword']" type="password">
                                </mat-form-field>
                                <small *ngIf="form.controls['confirmPassword'].hasError('required') && form.controls['confirmPassword'].touched"
                                       class="mat-text-warn">Bạn phải nhập vào xác nhận mật khẩu.
                                </small>
                                <small *ngIf="form.controls['confirmPassword'].errors?.equalTo" class="mat-text-warn">
                                    Mật khẩu xác nhận không trùng khớp
                                </small>
                            </div>
                            <div id="recaptcha-container"></div>
                            <br />
                        </div>
                        <button mat-raised-button color="primary" class="btn-block w-100" type="submit"
                                [disabled]="!form.valid">Tạo mới tài khoản
                        </button>

                    </form>

                    <form [formGroup]="formVerify" (ngSubmit)="onSubmit()" *ngIf="stateFormVerification">

                        <div fxLayout="column" fxLayoutAlign="space-around">
                            <div class="pb-1">
                                <mat-form-field style="width: 100%">
                                    <input matInput type="text" placeholder="Verification Code"
                                           [formControl]="formVerify.controls['verificationCode']">
                                </mat-form-field>
                                <small *ngIf="formVerify.controls['verificationCode'].hasError('required') && formVerify.controls['verificationCode'].touched"
                                       class="mat-text-warn">Vui lòng nhập vào Verification Code.
                                </small>
                            </div>

                            <button mat-raised-button color="primary" type="submit" [disabled]="!formVerify.valid">
                                Verify
                            </button>

                        </div>
                    </form>

                    <div class="pt-1 pb-1 text-xs-center">
                        <a [routerLink]="['/session/forgot']">Quên mật khẩu?</a>&nbsp;&nbsp;&nbsp;&nbsp;
                        <a [routerLink]="['/session/signin']">Đăng nhập.</a>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>
